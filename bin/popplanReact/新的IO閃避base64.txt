 Spring Boot å¯¦ä½œç¯„ä¾‹ï¼ˆä¼ºæœå™¨æœ¬åœ°å„²å­˜ï¼‰
1ï¸âƒ£ Controller
java
è¤‡è£½
ç·¨è¼¯
@PostMapping("/upload")
public ResponseEntity<String> handleFileUpload(@RequestParam("file") MultipartFile file) {
    try {
        // å­˜å„²ç›®éŒ„
        String uploadDir = "uploads/";
        String fileName = UUID.randomUUID() + "_" + file.getOriginalFilename(); // é˜²æ­¢é‡è¤‡
        Path filePath = Paths.get(uploadDir + fileName);

        // å¯«å…¥æœ¬åœ°ç£ç¢Ÿ
        Files.createDirectories(filePath.getParent());
        Files.write(filePath, file.getBytes());

        // è¿”å›æª”æ¡ˆè·¯å¾‘ï¼ˆå¯ä¾›è³‡æ–™åº«å„²å­˜ï¼‰
        String relativePath = "/uploads/" + fileName;
        return ResponseEntity.ok(relativePath);
    } catch (IOException e) {
        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body("Failed to upload file.");
    }
}
2ï¸âƒ£ è³‡æ–™åº«åªå­˜ã€Œåœ–ç‰‡è·¯å¾‘ã€
sql
è¤‡è£½
ç·¨è¼¯
image_path VARCHAR(255) -- ä¾‹ï¼š/uploads/123456_xxx.jpg
ğŸ”„ é€™æ¨£åšçš„å¥½è™•
é …ç›®	base64 å­˜ DB	åœ–ç‰‡å­˜æª”æ¡ˆè·¯å¾‘æ–¹å¼ âœ…æ¨è–¦
æ•ˆèƒ½ï¼ˆDBæŸ¥è©¢é€Ÿåº¦ï¼‰	æ…¢ï¼Œè³‡æ–™è‚¥é‡	å¿«ï¼Œåªå­˜å­—ä¸²
è¨˜æ†¶é«”è² æ“”	å¤§	å°ï¼Œåœ–æª”ä¸é€²è¨˜æ†¶é«”
å‰ç«¯å±•ç¤º	è¦ decode base64	<img src="/uploads/xxx.jpg" /> ç›´æ¥ç”¨
æ˜“æ–¼ CDN å„²å­˜èˆ‡å¿«å–	é›£	æ˜“ï¼Œåœ–æª”ç›´æ¥ä¸Š CDN
å¯¦å‹™ç³»çµ±å¯æ“´å……æ€§	ä¸ä½³	å„ªç§€

ğŸ’¡ å°å»ºè­°ï¼šä½ å¯ä»¥ç”¨ /uploads/ ç•¶éœæ…‹è³‡æºè·¯å¾‘
åœ¨ Spring Boot ä¸­ï¼ŒåŠ å…¥é€™æ®µé…ç½®ï¼š

java
è¤‡è£½
ç·¨è¼¯
@Configuration
public class WebConfig implements WebMvcConfigurer {
    @Override
    public void addResourceHandlers(ResourceHandlerRegistry registry) {
        registry.addResourceHandler("/uploads/**")
                .addResourceLocations("file:uploads/"); // æŒ‡å‘ä½ ç£ç¢Ÿä¸­çš„è³‡æ–™å¤¾
    }
}
é€™æ¨£å°±èƒ½é€éç¶²å€ä¾‹å¦‚ï¼š

bash
è¤‡è£½
ç·¨è¼¯
http://localhost:8080/uploads/abc.jpg